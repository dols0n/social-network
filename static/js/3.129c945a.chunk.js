(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{301:function(e,s,a){e.exports={dialogs:"Dialogs_dialogs__1ykrV",headerDialog:"Dialogs_headerDialog__180qy",headerButton:"Dialogs_headerButton__eb6gU",headerFullName:"Dialogs_headerFullName__2VPwT",headerUserPhoto:"Dialogs_headerUserPhoto__1WC6w",dialogElementBLock:"Dialogs_dialogElementBLock__2lsGv",dialogElement:"Dialogs_dialogElement__1CYCO",userPhoto:"Dialogs_userPhoto__26Txa",ownerFullName:"Dialogs_ownerFullName__3J2eS",message:"Dialogs_message__1kmoy",noMessage:"Dialogs_noMessage__10rr6",formField:"Dialogs_formField__2zHaU",inputField:"Dialogs_inputField__1U2v_",buttonField:"Dialogs_buttonField__1poQW"}},302:function(e,s,a){e.exports={dialogElement:"DialogsList_dialogElement__3978g"}},303:function(e,s,a){e.exports={dialogElementList:"DialogElementList_dialogElementList__2LrqY",photoBlock:"DialogElementList_photoBlock__23xbP",fullName:"DialogElementList_fullName__31sjw",messages:"DialogElementList_messages__3Gc1I",userPhoto:"DialogElementList_userPhoto__3LiYs",smallMessageImage:"DialogElementList_smallMessageImage__1iH55",messageText:"DialogElementList_messageText__2hoTN",noMessageAlert:"DialogElementList_noMessageAlert__zlDWe"}},309:function(e,s,a){"use strict";a.r(s);a(1);var l=a(13),o=a(11),t=a(301),r=a.n(t),i=a(35),c=a(139),n=a(140),m=a(22),g=a(0),u=function(e){return Object(g.jsx)("div",{children:e.messageObject.myMessage?Object(g.jsxs)("div",{className:r.a.dialogElement,children:[Object(g.jsx)("img",{className:r.a.userPhoto,src:e.userPhoto}),Object(g.jsx)("b",{className:r.a.ownerFullName,children:e.ownerFullName}),Object(g.jsx)("span",{className:r.a.message,children:e.messageObject.message})]}):Object(g.jsxs)("div",{className:r.a.dialogElement,children:[Object(g.jsx)("img",{className:r.a.userPhoto,src:e.userSmallPhoto}),Object(g.jsx)("b",{className:r.a.ownerFullName,children:e.fullName}),Object(g.jsx)("span",{className:r.a.message,children:e.messageObject.message})]})})},d=Object(n.a)({form:"messageForm"})((function(e){return Object(g.jsx)("form",{onSubmit:e.handleSubmit,children:Object(g.jsxs)("div",{children:[Object(g.jsx)(c.a,{className:r.a.inputField,placeholder:"your message",name:"message",component:"input"}),Object(g.jsx)("button",{className:r.a.buttonField,children:"Send"})]})})})),j=function(e){if(!e.usersDialogs[e.userId])return Object(g.jsx)(i.a,{});return Object(g.jsxs)("div",{className:r.a.dialogs,children:[Object(g.jsxs)("div",{className:r.a.headerDialog,children:[Object(g.jsx)(m.c,{to:"/dialogs",children:Object(g.jsx)("button",{className:r.a.headerButton,children:"Back"})}),Object(g.jsx)(m.c,{className:r.a.headerFullName,to:"/profile/".concat(e.userId),children:Object(g.jsx)("b",{children:e.usersDialogs[e.userId].fullName})}),Object(g.jsx)(m.c,{className:r.a.headerUserPhoto,to:"/profile/".concat(e.userId),children:Object(g.jsx)("img",{src:e.usersDialogs[e.userId].userSmallPhoto})})]}),Object(g.jsx)("div",{className:r.a.dialogElementBLock,children:e.usersDialogs[e.userId].messages[0]?e.usersDialogs[e.userId].messages.map((function(s){return Object(g.jsx)(u,{messageObject:s,userSmallPhoto:e.usersDialogs[e.userId].userSmallPhoto,userPhoto:e.userPhoto,fullName:e.usersDialogs[e.userId].fullName,ownerFullName:e.ownerFullName})})):Object(g.jsx)("div",{className:r.a.noMessage,children:"there are no messages here yet"})}),Object(g.jsx)("div",{className:r.a.formField,children:Object(g.jsx)(d,{onSubmit:function(s){e.sendMessage(s.message,e.userId),e.deleteFormData()}})})]})},h=a(8),b=a(66),_=a(76),D=a(302),N=a.n(D),O=a(303),x=a.n(O),P=(a(54),function(e){return Object(g.jsxs)(m.c,{to:"/dialogs/".concat(e.userId),className:x.a.dialogElementList,children:[Object(g.jsx)("div",{className:x.a.photoBlock,children:Object(g.jsx)("img",{className:x.a.userPhoto,src:e.usersDialog.userSmallPhoto})}),Object(g.jsx)("div",{className:x.a.fullName,children:e.usersDialog.fullName}),Object(g.jsx)("div",{className:x.a.messages,children:e.usersDialog.messages[0]?e.usersDialog.messages[e.usersDialog.messages.length-1].myMessage?Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{className:x.a.smallMessageImage,src:e.userPhoto}),Object(g.jsx)("span",{className:x.a.messageText,children:e.usersDialog.messages[e.usersDialog.messages.length-1].message})]}):Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{className:x.a.smallMessageImage,src:e.usersDialog.userSmallPhoto}),Object(g.jsx)("span",{className:x.a.messageText,children:e.usersDialog.messages[e.usersDialog.messages.length-1].message})]}):Object(g.jsx)("div",{className:x.a.noMessageAlert,children:"you have not written to this user, WRITE TO HIM!"})})]})}),f=function(e){var s=Object.keys(e.usersDialogs);return s[0]?Object(g.jsx)("div",{className:N.a.dialogList,children:s.map((function(s){return Object(g.jsx)("div",{className:N.a.dialogElement,children:Object(g.jsx)(P,{usersDialog:e.usersDialogs[s],userId:s,userPhoto:e.userPhoto})})}))}):Object(g.jsx)("div",{children:"You have no messages yet"})},p=a(49);s.default=Object(o.d)(p.b,Object(l.b)((function(e){return{usersDialogs:e.dialogsPage.usersDialogs,myUserId:e.auth.id,userPhoto:e.auth.ownerUserPhoto,ownerFullName:e.auth.fullName}}),{createNewDialog:b.a,createNewDialogWithRequestPhoto:b.b,sendMessage:b.d,deleteFormData:_.b}),h.f)((function(e){var s=e.match.params.userId;return e.usersDialogs[s]&&e.usersDialogs[s].userSmallPhoto||s&&e.createNewDialogWithRequestPhoto(s),Object(g.jsx)("div",{children:s?Object(g.jsx)(j,{usersDialogs:e.usersDialogs,userId:s,sendMessage:e.sendMessage,userPhoto:e.userPhoto,ownerFullName:e.ownerFullName,deleteFormData:e.deleteFormData}):Object(g.jsx)(f,{usersDialogs:e.usersDialogs,userPhoto:e.userPhoto})})}))}}]);
//# sourceMappingURL=3.129c945a.chunk.js.map